# 移动端跨平台开发概述

本文档总结了主流的移动端跨平台开发技术，旨在为面试题提供背景知识。

## 1. 核心概念：WebView

- **定义**: WebView 是原生 App 中的一个组件，它本质上是一个“内嵌的浏览器内核”，负责加载和渲染网页内容。
- **作用**: 它是实现混合开发（Hybrid App）的基石，允许开发者使用前端技术（HTML, CSS, JavaScript）来构建 App 的部分或全部界面。

## 2. 主要开发模式

### a. H5 / 纯 Web App

- **原理**: 用户通过手机浏览器访问的网页应用。
- **优点**: 开发成本低，跨平台能力强（一个 URL 即可），迭代速度快。
- **缺点**: 性能和体验最差，无法访问大多数原生设备功能（如通讯录、蓝牙），依赖网络连接。

### b. 混合开发 (Hybrid App)

- **原理**: 将 H5 页面嵌入到原生 App 的 WebView 中。通过 **JSBridge** 技术，实现 JavaScript 与原生代码（Java/Kotlin for Android, Swift/OC for iOS）的双向通信。
- **JSBridge**: 是一种协议，允许 Web 端调用原生功能（如支付、分享、扫码），也允许原生端调用 Web 端的 JavaScript 函数。
- **优点**: 兼具 Web 的灵活性和一定的原生能力，开发效率较高。
- **缺点**: 性能瓶颈在于 WebView，复杂的 UI 和动画可能导致卡顿。

### c. 以 React Native / Weex 为代表的 "Native UI" 方案

- **原理**: 开发者使用 JavaScript (React/Vue) 编写代码，但框架会将这些代码通过一个“桥”（Bridge）转换为**原生 UI 组件**进行渲染，而不是渲染到 WebView 中。
- **优点**: 性能和体验远超 Hybrid App，接近原生。
- **缺点**:
    - **通信瓶颈**: JavaScript 线程与原生 UI 线程之间的通信是异步的，高频通信（如快速滑动时的动画）可能导致延迟或掉帧。
    - **平台差异**: 需要处理不同平台的兼容性问题，学习成本较高。

### d. 以 Flutter / 小程序为代表的 "自渲染引擎" 方案

- **原理**: 框架自带一个渲染引擎（如 Flutter 使用 Skia），直接调用 GPU 在屏幕上绘制 UI，完全绕过了原生 UI 组件和 WebView。
- **小程序**: 采用了类似的设计，其渲染层和逻辑层分离在不同的线程中，避免了 JavaScript 的复杂计算阻塞 UI 渲染，保证了流畅性。
- **优点**: 性能最好，跨平台一致性最高。
- **缺点**: 技术栈较新，生态和社区相对不成熟，包体积较大。

## 3. 总结对比

| 特性 | H5 | Hybrid App | React Native | Flutter / 小程序 |
| :--- | :--- | :--- | :--- | :--- |
| **渲染方式** | 浏览器内核 | WebView | 原生组件 | 自渲染引擎 |
| **性能体验** | 差 | 一般 | 较好 | 优秀 |
| **原生能力** | 弱 | 较强 (JSBridge) | 强 (Bridge) | 强 (Channel) |
| **开发效率** | 高 | 较高 | 一般 | 一般 |
| **跨平台一致性**| 高 | 较高 | 一般 | 极高 |
